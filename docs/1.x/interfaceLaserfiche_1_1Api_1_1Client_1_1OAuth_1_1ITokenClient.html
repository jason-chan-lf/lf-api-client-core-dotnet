<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>lf-api-client-core-dotnet: Laserfiche.Api.Client.OAuth.ITokenClient Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">lf-api-client-core-dotnet
   </div>
   <div id="projectbrief">.NET implementation of various OAuth 2.0 flows for secure and easy access to Laserfiche APIs.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceLaserfiche.html">Laserfiche</a></li><li class="navelem"><a class="el" href="namespaceLaserfiche_1_1Api.html">Api</a></li><li class="navelem"><a class="el" href="namespaceLaserfiche_1_1Api_1_1Client.html">Client</a></li><li class="navelem"><a class="el" href="namespaceLaserfiche_1_1Api_1_1Client_1_1OAuth.html">OAuth</a></li><li class="navelem"><a class="el" href="interfaceLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1ITokenClient.html">ITokenClient</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="interfaceLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1ITokenClient-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Laserfiche.Api.Client.OAuth.ITokenClient Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The API client for the <a class="el" href="namespaceLaserfiche.html">Laserfiche</a> Cloud token route.  
 <a href="interfaceLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1ITokenClient.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Laserfiche.Api.Client.OAuth.ITokenClient:</div>
<div class="dyncontent">
<div class="center"><img src="interfaceLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1ITokenClient__inherit__graph.png" border="0" usemap="#aLaserfiche_8Api_8Client_8OAuth_8ITokenClient_inherit__map" alt="Inheritance graph"/></div>
<map name="aLaserfiche_8Api_8Client_8OAuth_8ITokenClient_inherit__map" id="aLaserfiche_8Api_8Client_8OAuth_8ITokenClient_inherit__map">
<area shape="rect" title="The API client for the Laserfiche Cloud token route." alt="" coords="5,5,208,47"/>
<area shape="rect" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1TokenClient.html" title="The API client for the Laserfiche Cloud token route." alt="" coords="5,95,208,136"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a361a929218c7c9fed49bb8e7c7881e72"><td class="memItemLeft" align="right" valign="top">Task&lt; <a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1GetAccessTokenResponse.html">GetAccessTokenResponse</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1ITokenClient.html#a361a929218c7c9fed49bb8e7c7881e72">GetAccessTokenFromCode</a> (string code, string redirectUri, string clientId, string clientSecret=null, string codeVerifier=null)</td></tr>
<tr class="memdesc:a361a929218c7c9fed49bb8e7c7881e72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an access token given a jwt code, client id, redirect URI, client secret and code verifier. These values can be exported from the <a class="el" href="namespaceLaserfiche.html">Laserfiche</a> Developer Console. This is for the authorization code flow for web apps and spa.  <a href="interfaceLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1ITokenClient.html#a361a929218c7c9fed49bb8e7c7881e72">More...</a><br /></td></tr>
<tr class="separator:a361a929218c7c9fed49bb8e7c7881e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2b5726618531f67c4d6ca785934a5f3"><td class="memItemLeft" align="right" valign="top">Task&lt; <a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1GetAccessTokenResponse.html">GetAccessTokenResponse</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1ITokenClient.html#aa2b5726618531f67c4d6ca785934a5f3">GetAccessTokenFromServicePrincipalAsync</a> (string servicePrincipalKey, <a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1AccessKey.html">AccessKey</a> accessKey, CancellationToken cancellationToken=default)</td></tr>
<tr class="memdesc:aa2b5726618531f67c4d6ca785934a5f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an access token given the service principal key and the app access key. These values can be exported from the <a class="el" href="namespaceLaserfiche.html">Laserfiche</a> Developer Console. This is the client credentials flow that applies to service applications.  <a href="interfaceLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1ITokenClient.html#aa2b5726618531f67c4d6ca785934a5f3">More...</a><br /></td></tr>
<tr class="separator:aa2b5726618531f67c4d6ca785934a5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c5e64dda0e98f499fc9aaaa82b37274"><td class="memItemLeft" align="right" valign="top">Task&lt; <a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1GetAccessTokenResponse.html">GetAccessTokenResponse</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1ITokenClient.html#a2c5e64dda0e98f499fc9aaaa82b37274">RefreshAccessToken</a> (string refreshToken, string clientId, string clientSecret=null)</td></tr>
<tr class="memdesc:a2c5e64dda0e98f499fc9aaaa82b37274"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a refreshed access token given a refresh token. These values can be exported from the <a class="el" href="namespaceLaserfiche.html">Laserfiche</a> Developer Console. This is for the authorization code flow for web apps and spa.  <a href="interfaceLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1ITokenClient.html#a2c5e64dda0e98f499fc9aaaa82b37274">More...</a><br /></td></tr>
<tr class="separator:a2c5e64dda0e98f499fc9aaaa82b37274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae357253a7b60dfcfd1ea62ccfff8671c"><td class="memItemLeft" align="right" valign="top">System.Threading.Tasks.Task&lt; <a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1GetAccessTokenResponse.html">GetAccessTokenResponse</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1ITokenClient.html#ae357253a7b60dfcfd1ea62ccfff8671c">TokenAsync</a> (<a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1GetAccessTokenRequest.html">GetAccessTokenRequest</a> body=null, string authorization=null, System.Threading.CancellationToken cancellationToken=default(System.Threading.CancellationToken))</td></tr>
<tr class="memdesc:ae357253a7b60dfcfd1ea62ccfff8671c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request for an access token. <br  />
- Use authCode to get an access token for the authorization code flow. This uses grant_type, code and redirect_uri. Furthermore, client id and client secret are taken from the Basic auth header for web applications. For SPAs, the client id should be in the request body. After getting the authorization code, the application could use it to exchange for an access token by calling this endpoint. Authorization code has a short lifetime for around 10 minutes. If it's not used within its lifetime, it will be expired and the application should start from authorization again. <br  />
- Use refreshToken to get a new access token for the authorization code flow. This uses grant_type and refresh_token. Furthermore, client id and client secret are taken from the Basic auth header for web applications. For SPAs, the client id should be in the request body. <br  />
- Use Bearer header to generate access token for the client credential flow. This uses grant_type and bearer auth header.  <a href="interfaceLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1ITokenClient.html#ae357253a7b60dfcfd1ea62ccfff8671c">More...</a><br /></td></tr>
<tr class="separator:ae357253a7b60dfcfd1ea62ccfff8671c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The API client for the <a class="el" href="namespaceLaserfiche.html">Laserfiche</a> Cloud token route. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a361a929218c7c9fed49bb8e7c7881e72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a361a929218c7c9fed49bb8e7c7881e72">&#9670;&nbsp;</a></span>GetAccessTokenFromCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt;<a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1GetAccessTokenResponse.html">GetAccessTokenResponse</a>&gt; Laserfiche.Api.Client.OAuth.ITokenClient.GetAccessTokenFromCode </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>redirectUri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>clientId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>clientSecret</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>codeVerifier</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets an access token given a jwt code, client id, redirect URI, client secret and code verifier. These values can be exported from the <a class="el" href="namespaceLaserfiche.html">Laserfiche</a> Developer Console. This is for the authorization code flow for web apps and spa. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td>Authorization code.</td></tr>
    <tr><td class="paramname">redirectUri</td><td>Authorization endpoint redirect URI.</td></tr>
    <tr><td class="paramname">clientId</td><td><a class="el" href="namespaceLaserfiche_1_1Api_1_1Client_1_1OAuth.html">OAuth</a> application client ID.</td></tr>
    <tr><td class="paramname">clientSecret</td><td>OPTIONAL <a class="el" href="namespaceLaserfiche_1_1Api_1_1Client_1_1OAuth.html">OAuth</a> application client secret. Required for web apps.</td></tr>
    <tr><td class="paramname">codeVerifier</td><td>OPTIONAL PKCE code verifier. Required for SPA apps.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A response that contains an access token.</dd></dl>

<p>Implemented in <a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1TokenClient.html#ad4465748e070dce1848620fc69e70cc9">Laserfiche.Api.Client.OAuth.TokenClient</a>.</p>

</div>
</div>
<a id="aa2b5726618531f67c4d6ca785934a5f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2b5726618531f67c4d6ca785934a5f3">&#9670;&nbsp;</a></span>GetAccessTokenFromServicePrincipalAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt;<a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1GetAccessTokenResponse.html">GetAccessTokenResponse</a>&gt; Laserfiche.Api.Client.OAuth.ITokenClient.GetAccessTokenFromServicePrincipalAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>servicePrincipalKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1AccessKey.html">AccessKey</a>&#160;</td>
          <td class="paramname"><em>accessKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em> = <code>default</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets an access token given the service principal key and the app access key. These values can be exported from the <a class="el" href="namespaceLaserfiche.html">Laserfiche</a> Developer Console. This is the client credentials flow that applies to service applications. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">servicePrincipalKey</td><td>The service principal key created for the service principal from the <a class="el" href="namespaceLaserfiche.html">Laserfiche</a> Account Administration.</td></tr>
    <tr><td class="paramname">accessKey</td><td>The access key exported from the <a class="el" href="namespaceLaserfiche.html">Laserfiche</a> Developer Console.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A response that contains an access token.</dd></dl>

<p>Implemented in <a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1TokenClient.html#a0a05d51992e2bc235b58a347d7cee294">Laserfiche.Api.Client.OAuth.TokenClient</a>.</p>

</div>
</div>
<a id="a2c5e64dda0e98f499fc9aaaa82b37274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c5e64dda0e98f499fc9aaaa82b37274">&#9670;&nbsp;</a></span>RefreshAccessToken()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt;<a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1GetAccessTokenResponse.html">GetAccessTokenResponse</a>&gt; Laserfiche.Api.Client.OAuth.ITokenClient.RefreshAccessToken </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>refreshToken</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>clientId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>clientSecret</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a refreshed access token given a refresh token. These values can be exported from the <a class="el" href="namespaceLaserfiche.html">Laserfiche</a> Developer Console. This is for the authorization code flow for web apps and spa. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">refreshToken</td><td>Refresh token.</td></tr>
    <tr><td class="paramname">clientId</td><td><a class="el" href="namespaceLaserfiche_1_1Api_1_1Client_1_1OAuth.html">OAuth</a> application client ID.</td></tr>
    <tr><td class="paramname">clientSecret</td><td>OPTIONAL <a class="el" href="namespaceLaserfiche_1_1Api_1_1Client_1_1OAuth.html">OAuth</a> application client secret. Required for web apps.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A response that contains an access token.</dd></dl>

<p>Implemented in <a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1TokenClient.html#a1c3a7409e06b62ae413873d114a2274e">Laserfiche.Api.Client.OAuth.TokenClient</a>.</p>

</div>
</div>
<a id="ae357253a7b60dfcfd1ea62ccfff8671c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae357253a7b60dfcfd1ea62ccfff8671c">&#9670;&nbsp;</a></span>TokenAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">System.Threading.Tasks.Task&lt;<a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1GetAccessTokenResponse.html">GetAccessTokenResponse</a>&gt; Laserfiche.Api.Client.OAuth.ITokenClient.TokenAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1GetAccessTokenRequest.html">GetAccessTokenRequest</a>&#160;</td>
          <td class="paramname"><em>body</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>authorization</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">System.Threading.CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em> = <code>default(System.Threading.CancellationToken)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request for an access token. <br  />
- Use authCode to get an access token for the authorization code flow. This uses grant_type, code and redirect_uri. Furthermore, client id and client secret are taken from the Basic auth header for web applications. For SPAs, the client id should be in the request body. After getting the authorization code, the application could use it to exchange for an access token by calling this endpoint. Authorization code has a short lifetime for around 10 minutes. If it's not used within its lifetime, it will be expired and the application should start from authorization again. <br  />
- Use refreshToken to get a new access token for the authorization code flow. This uses grant_type and refresh_token. Furthermore, client id and client secret are taken from the Basic auth header for web applications. For SPAs, the client id should be in the request body. <br  />
- Use Bearer header to generate access token for the client credential flow. This uses grant_type and bearer auth header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>A cancellation token that can be used by other objects or threads to receive notice of cancellation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1ApiException.html" title="Represents errors that occur from error API responses.">ApiException</a></td><td>A server side error occurred.</td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classLaserfiche_1_1Api_1_1Client_1_1OAuth_1_1TokenClient.html#a3ac55ec879a5ee6c2fb94d8c6e80fb0f">Laserfiche.Api.Client.OAuth.TokenClient</a>.</p>

</div>
</div>
<hr/>The documentation for this interface was generated from the following files:<ul>
<li>src/OAuth/ITokenClient.cs</li>
<li>src/OAuth/OAuthClient.cs</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
